In this study, we explored and addressed key challenges in log-structured merge (LSM) trees, particularly focusing on 
improving the efficiency of range queries and compactions in the context of write-intensive workloads. The prevalent use
of LSM trees in modern data systems prompted our investigation into optimizing the traditional approach through the 
introduction of a novel query-driven compaction strategy.

The motivation behind our work stemmed from the observation that conventional LSM designs incur redundant work and 
increased write amplification, especially when executing overlapping range queries. To tackle these issues, we proposed 
a query-driven compaction strategy that selectively removes invalid keys during range queries, significantly reducing 
the workload for subsequent queries.

Our approach demonstrated substantial benefits in experimental settings, showcasing a notable reduction in the number of 
compactions triggered during workload execution. We empirically validated the efficiency of our strategy through 
experiments conducted on a real-world LSM-based data store, RocksDB, using baremetal cloud instances. The results 
highlighted significant improvements in both speed and efficiency, particularly evident in reduced write amplification 
and optimized use of system resources.

We acknowledged the limitations of a blind application of the query-driven approach and introduced an informative 
compaction strategy to make more informed decisions based on the overlap between levels. This adaptive approach 
showcased comparable write amplification to the conventional method while providing additional advantages such as 
reduced space amplification.

The experimental findings demonstrated the effectiveness of our approach, indicating that the query-driven compaction 
outperformed traditional methods in terms of write and space amplification. Through a carefully designed experimental 
setup involving different workload scenarios and tuning parameters, we showcased the versatility and applicability of 
our strategy.

In conclusion, our research contributes to the ongoing efforts to enhance LSM-based data stores for write-intensive 
workloads. The query-driven compaction strategy, coupled with an informative decision-making approach, offers a 
practical solution to the challenges posed by overlapping range queries. Our findings provide valuable insights for 
database developers and researchers seeking to optimize the performance of LSM trees in real-world scenarios.